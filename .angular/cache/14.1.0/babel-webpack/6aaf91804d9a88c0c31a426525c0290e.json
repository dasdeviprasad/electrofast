{"ast":null,"code":"import _asyncToGenerator from \"/Users/apple/Documents/Personal/buzby/electrofast/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Subject, takeUntil } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services\";\nimport * as i2 from \"../services/cart.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction ListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"figure\", 19);\n    i0.ɵɵelement(2, \"img\", 20);\n    i0.ɵɵelementStart(3, \"figcaption\")(4, \"a\", 21);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ListComponent_div_6_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.selectItem(item_r2));\n    });\n    i0.ɵɵelement(9, \"i\", 24);\n    i0.ɵɵtext(10, \" Add to Cart \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r2.image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Part Number: \", item_r2.products[0].product_number, \"\");\n  }\n}\n\nfunction ListComponent_ul_17_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const meta_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", meta_r7.name, \" \");\n  }\n}\n\nfunction ListComponent_ul_17_li_5_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const meta_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", meta_r10.value, \" \");\n  }\n}\n\nfunction ListComponent_ul_17_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 30)(1, \"span\", 18)(2, \"input\", 31);\n    i0.ɵɵlistener(\"change\", function ListComponent_ul_17_li_5_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const prod_r8 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.toggleItem(prod_r8.product_number));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ListComponent_ul_17_li_5_span_4_Template, 2, 1, \"span\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const prod_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", prod_r8.product_number, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", prod_r8.metadata);\n  }\n}\n\nfunction ListComponent_ul_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\", 25)(2, \"span\", 26);\n    i0.ɵɵtext(3, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ListComponent_ul_17_span_4_Template, 2, 1, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ListComponent_ul_17_li_5_Template, 5, 2, \"li\", 28);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedItem.products[0].metadata);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedItem.products);\n  }\n}\n\nexport class ListComponent {\n  constructor(prodService, alertService, cartService) {\n    this.prodService = prodService;\n    this.alertService = alertService;\n    this.cartService = cartService;\n    this.cleanup = new Subject();\n    this.data = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.prodService.products.pipe(takeUntil(_this.cleanup)).subscribe(data => {\n        _this.data = data;\n      });\n\n      _this.prodService.getProducts();\n    })();\n  }\n\n  addToCart(item) {\n    this.alertService.success(`${item.name} is added to Cart.`); //this.cartService.add(item);\n  }\n\n  selectItem(item) {\n    console.log(item);\n    this.selectedItem = item;\n  }\n\n  toggleItem(prodNum) {\n    this.cartService.add({\n      name: this.selectedItem.name,\n      image_url: this.selectedItem.image_url,\n      product_number: prodNum,\n      quantity: 100\n    });\n  }\n\n}\n\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i1.AlertService), i0.ɵɵdirectiveInject(i2.CartService));\n};\n\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 23,\n  vars: 2,\n  consts: [[1, \"section-pagetop\", \"bg\"], [1, \"container\"], [1, \"title-page\"], [1, \"container\", \"pt-5\", \"pb-5\", \"px-4\"], [1, \"row\", \"gx-5\", \"gy-5\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"cartModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"cartModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [1, \"col\"], [1, \"text-center\", \"card\", \"p-2\"], [1, \"figure-img\", \"img-lg\", \"rounded\", \"m-auto\", 2, \"object-fit\", \"contain\", 3, \"src\"], [\"href\", \"#\", 1, \"title\", \"text-dark\", \"text-md\", \"text-uppercase\"], [1, \"text-muted\", \"small\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#cartModal\", 1, \"btn\", \"btn-outline-primary\", \"mb-1\", \"mt-2\", 3, \"click\"], [1, \"fa\", \"fa-shopping-cart\"], [1, \"row\", \"border-bottom\", \"mb-1\", \"pb-1\"], [1, \"col\", \"font-weight-bold\"], [\"class\", \"col font-weight-bold text-center\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row mt-1 mb-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"font-weight-bold\", \"text-center\"], [1, \"row\", \"mt-1\", \"mb-1\"], [\"type\", \"checkbox\", 3, \"change\"], [\"class\", \"col text-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"text-center\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n      i0.ɵɵtext(3, \"Matched Items\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4);\n      i0.ɵɵtemplate(6, ListComponent_div_6_Template, 11, 3, \"div\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"h5\", 10);\n      i0.ɵɵtext(12, \"Modal title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 11)(14, \"span\", 12);\n      i0.ɵɵtext(15, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 13);\n      i0.ɵɵtemplate(17, ListComponent_ul_17_Template, 6, 2, \"ul\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 15)(19, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function ListComponent_Template_button_click_19_listener() {\n        return ctx.addToCart(null);\n      });\n      i0.ɵɵtext(20, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 17);\n      i0.ɵɵtext(22, \"Add to Cart\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedItem);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["Subject","takeUntil","i0","ListComponent","constructor","prodService","alertService","cartService","ngOnInit","products","pipe","cleanup","subscribe","data","getProducts","addToCart","item","success","name","selectItem","console","log","selectedItem","toggleItem","prodNum","add","image_url","product_number","quantity","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/apple/Documents/Personal/buzby/electrofast/src/app/list/list.component.ts","/Users/apple/Documents/Personal/buzby/electrofast/src/app/list/list.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { CartService } from '../services/cart.service';\nimport { AlertService, ProductService } from '../services';\nimport { Subject, takeUntil } from \"rxjs\";\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html'\n})\nexport class ListComponent {\n  cleanup = new Subject();\n  data: any[] = [];\n  selectedItem?: any;\n\n  constructor(private prodService: ProductService, \n    private alertService: AlertService,\n    private cartService: CartService) {\n  }\n\n  async ngOnInit() {\n    this.prodService.products\n      .pipe(takeUntil(this.cleanup))\n      .subscribe(data => {\n        this.data = data;\n      });\n    this.prodService.getProducts();\n  }\n\n  addToCart(item: any) {\n    this.alertService.success(`${item.name} is added to Cart.`);\n    //this.cartService.add(item);\n  }\n\n  selectItem(item: any) {\n    console.log(item);\n    this.selectedItem = item;\n  }\n\n  toggleItem(prodNum: string) {\n    this.cartService.add({\n      name: this.selectedItem.name,\n      image_url: this.selectedItem.image_url,\n      product_number: prodNum,\n      quantity: 100\n    });\n  }\n}\n","<section class=\"section-pagetop bg\">\n  <div class=\"container\">\n    <h2 class=\"title-page\">Matched Items</h2>\n  </div> <!-- container //  -->\n</section>\n\n<div class=\"container pt-5 pb-5 px-4\">\n  <div class=\"row gx-5 gy-5\">\n    <div class=\"col\" *ngFor=\"let item of data\">\n      <figure class=\"text-center card p-2\">\n        <img src={{item.image_url}} class=\"figure-img img-lg rounded m-auto\" style=\"object-fit: contain;\" />\n        <figcaption>\n          <a href=\"#\" class=\"title text-dark text-md text-uppercase\">{{item.name}}</a>\n          <p class=\"text-muted small\">Part Number: {{item.products[0].product_number}}</p>\n        </figcaption>\n\n        <button type=\"button\" class=\"btn btn-outline-primary mb-1 mt-2\" \n          data-toggle=\"modal\" data-target=\"#cartModal\" (click)=\"selectItem(item)\">\n          <i class=\"fa fa-shopping-cart\"></i> Add to Cart\n        </button>\n      </figure>\n    </div>\n  </div>\n</div>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"cartModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"cartModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <ul *ngIf=\"selectedItem\">\n          <li class=\"row border-bottom mb-1 pb-1\">\n            <span class=\"col font-weight-bold\">Code</span>\n            <span class=\"col font-weight-bold text-center\" *ngFor=\"let meta of selectedItem.products[0].metadata\">\n              {{meta.name}}\n            </span>\n          </li>\n          <li *ngFor=\"let prod of selectedItem.products\" class=\"row mt-1 mb-1\">\n            <span class=\"col\">\n              <input type=\"checkbox\" (change)=\"toggleItem(prod.product_number)\" />\n              {{prod.product_number}}\n            </span>\n            <span class=\"col text-center\" *ngFor=\"let meta of prod.metadata\">\n              {{meta.value}}\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"addToCart(null)\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Add to Cart</button>\n      </div>\n    </div>\n  </div>\n</div>"]},"metadata":{},"sourceType":"module"}